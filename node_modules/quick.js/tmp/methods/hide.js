
'use strict';

/**
 * @module
 * @public
 * @description hide an element, while waiting for css transitions to finish
 * @returns {Object} [this] like most methods, returns parent object
 */
var hide = function hide() {
	var _this = this;

	this.each(function (el) {
		var hidden = el.style.display === 'none';
		if (hidden === true) {
			return;
		}

		// if no transition just go ahead and hide
		if (_this.hasDuration(el) === false) {
			el.style.display = 'none';
		}
		// else wait out the transition
		else {
				el.addEventListener(_this.transition(el), function () {
					el.style.display = 'none';
				}, false);
			}
	});

	return this;
};

module.exports = hide;