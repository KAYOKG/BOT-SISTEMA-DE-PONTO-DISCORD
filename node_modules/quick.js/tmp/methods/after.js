
'use strict';

/**
 * @module
 * @public
 * @requires isNode
 * @description appends dom node or nodes to the dom, after each node in the selection
 * @param {Object} [appendMe] the node to append to the dom
 * @returns {Object} [this] like most methods, returns parent object
 */
var after = function after(appendMe) {
	var _this = this;

	// if passed a dom node directly, check it and append it
	if (this.isNode(appendMe) === true) {
		this.each(function (el) {
			return el.parentNode.insertBefore(appendMe.cloneNode(), el.nextSibling);
		});
	} else if (typeof appendMe === 'string') {
		(function () {
			var tmp = document.createElement('div');

			tmp.innerHTML = appendMe;

			_this.each(function (el) {
				return el.parentNode.insertBefore(tmp.firstChild.cloneNode(true), el.nextSibling);
			});
		})();
	}

	return this;
};

module.exports = after;