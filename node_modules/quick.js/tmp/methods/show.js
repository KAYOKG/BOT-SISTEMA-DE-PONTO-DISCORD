
'use strict';

/**
 * @module
 * @public
 * @description show an element, while waiting for css transitions to finish
 * @param {string} [display] the display type to use, defaults to block
 * @returns {Object} [this] like most methods, returns parent object
 */
var show = function show(display) {
	var _this = this;

	// set default value
	if (typeof display === 'undefined') {
		display = 'block';
	}

	this.each(function (el) {
		var hidden = el.style.display === 'none';
		if (hidden === false) {
			return;
		}

		// if no transition just go ahead and hide
		if (_this.hasDuration(el) === false) {
			el.style.display = display;
		}
		// else wait out the transition
		else {
				el.addEventListener(_this.transition(el), function () {
					el.style.display = display;
				}, false);
			}
	});

	return this;
};

module.exports = show;